"use strict";(self["webpackChunkq_vue"]=self["webpackChunkq_vue"]||[]).push([[268],{9268:function(e,a,t){t.r(a),t.d(a,{default:function(){return M}});var s=t(641),i=t(33),c=t(8745),d=t(1619),r=t(4211),n=t(889),o=t(7128),v=t(3893),l=t(2166);const f={class:"speech-rate-container"},u={class:"header"},g={class:"speed-control"},m={class:"speed-slider-container"},h={class:"slider-track"},p={class:"slider-lines"},k=["onClick"];function w(e,a,t,w,D,L){return(0,s.uX)(),(0,s.CE)("div",f,[(0,s.Lk)("div",u,[(0,s.Lk)("div",{class:"back-button",onClick:a[0]||(a[0]=(...e)=>L.goBack&&L.goBack(...e))},a[3]||(a[3]=[(0,s.Lk)("img",{src:c,alt:"返回",class:"back-img"},null,-1)])),a[4]||(a[4]=(0,s.Lk)("div",{class:"title"},"语音播报速度调整",-1))]),a[8]||(a[8]=(0,s.Fv)('<div class="chat-container" data-v-3e1fc4f0><div class="message-row right" data-v-3e1fc4f0><div class="message-content" data-v-3e1fc4f0><div class="message-bubble" data-v-3e1fc4f0><span class="old-message" data-v-3e1fc4f0>5s</span><div class="voice-icon" data-v-3e1fc4f0><img src="'+d+'" alt="语音" data-v-3e1fc4f0></div></div></div><div class="avatar" data-v-3e1fc4f0><img src="'+r+'" alt="老人头像" data-v-3e1fc4f0></div></div><div class="message-row left" data-v-3e1fc4f0><div class="avatar" data-v-3e1fc4f0><img src="'+n+'" alt="医生头像" data-v-3e1fc4f0></div><div class="message-content" data-v-3e1fc4f0><div class="message-bubble" data-v-3e1fc4f0><div class="voice-icon" data-v-3e1fc4f0><img src="'+o+'" alt="语音" data-v-3e1fc4f0></div><span class="doctor-message" data-v-3e1fc4f0>12s</span></div></div></div><div class="message-row left" data-v-3e1fc4f0><div class="avatar" data-v-3e1fc4f0><img src="'+n+'" alt="医生头像" data-v-3e1fc4f0></div><div class="message-content" data-v-3e1fc4f0><div class="message-bubble" data-v-3e1fc4f0><div class="voice-icon" data-v-3e1fc4f0><img src="'+o+'" alt="语音" data-v-3e1fc4f0></div><span class="doctor-message" data-v-3e1fc4f0>22s</span></div></div></div><div class="message-row right" data-v-3e1fc4f0><div class="message-content" data-v-3e1fc4f0><div class="message-bubble" data-v-3e1fc4f0><span class="old-message" data-v-3e1fc4f0>15s</span><div class="voice-icon" data-v-3e1fc4f0><img src="'+d+'" alt="语音" data-v-3e1fc4f0></div></div></div><div class="avatar" data-v-3e1fc4f0><img src="'+r+'" alt="老人头像" data-v-3e1fc4f0></div></div></div>',1)),(0,s.Lk)("div",g,[a[7]||(a[7]=(0,s.Lk)("div",{class:"speed-title"},"播放速度",-1)),(0,s.Lk)("div",m,[a[5]||(a[5]=(0,s.Lk)("div",{class:"slow-icon"},[(0,s.Lk)("img",{src:v,alt:"慢速"})],-1)),(0,s.Lk)("div",h,[(0,s.Lk)("div",p,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(6,(a=>(0,s.Lk)("div",{class:"slider-line",key:a,onClick:t=>e.setSpeed(a)},null,8,k))),64))]),(0,s.Lk)("div",{class:"slider-thumb",style:(0,i.Tr)({left:L.thumbPosition+"%"}),onMousedown:a[1]||(a[1]=(...e)=>L.startDrag&&L.startDrag(...e)),onTouchstart:a[2]||(a[2]=(...e)=>L.startDrag&&L.startDrag(...e))},null,36)]),a[6]||(a[6]=(0,s.Lk)("div",{class:"fast-icon"},[(0,s.Lk)("img",{src:l,alt:"快速"})],-1))])])])}t(4114);var D={name:"SpeechRate",data(){return{fromReportView:!1,currentSpeed:3,isDragging:!1,speedLabels:["极慢","慢速","正常","较快","快速","极快"]}},computed:{thumbPosition(){return 20*(this.currentSpeed-1)},labelFontSize(){const e=[12,16,20,24,28,32];return e[this.currentSpeed-1]}},created(){this.fromReportView="true"===this.$route.query.fromReportView},mounted(){window.addEventListener("mousemove",this.onDrag),window.addEventListener("mouseup",this.stopDrag),window.addEventListener("touchmove",this.onTouchDrag),window.addEventListener("touchend",this.stopDrag)},beforeUnmount(){window.removeEventListener("mousemove",this.onDrag),window.removeEventListener("mouseup",this.stopDrag),window.removeEventListener("touchmove",this.onTouchDrag),window.removeEventListener("touchend",this.stopDrag)},methods:{goBack(){this.$router.push({path:"/my-page",query:{fromReportView:this.fromReportView?"true":"false"}})},startDrag(e){this.isDragging=!0,"touchstart"===e.type?this.onTouchDrag(e):this.onDrag(e)},stopDrag(){this.isDragging=!1},onDrag(e){if(!this.isDragging)return;const a=document.querySelector(".slider-track"),t=a.getBoundingClientRect();let s=(e.clientX-t.left)/t.width;s=Math.max(0,Math.min(1,s)),this.currentSpeed=Math.max(1,Math.min(6,Math.round(5*s)+1))},onTouchDrag(e){if(!this.isDragging)return;e.preventDefault();const a=document.querySelector(".slider-track"),t=a.getBoundingClientRect(),s=e.touches[0]||e.changedTouches[0];let i=(s.clientX-t.left)/t.width;i=Math.max(0,Math.min(1,i)),this.currentSpeed=Math.max(1,Math.min(6,Math.round(5*i)+1))}}},L=t(6262);const b=(0,L.A)(D,[["render",w],["__scopeId","data-v-3e1fc4f0"]]);var M=b}}]);
//# sourceMappingURL=268.7c956d57.js.map