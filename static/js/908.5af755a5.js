"use strict";(self["webpackChunkq_vue"]=self["webpackChunkq_vue"]||[]).push([[908],{908:function(e,t,s){s.r(t),s.d(t,{default:function(){return H}});var a=s(641),i=s(33),o=s(8745),l=s(5119),c=s(4652),r=s(8850),m=s(690),n=s(5193),u=s(7485);const g={class:"progress-container"},p={class:"progress-bar"},d=["src"],h={class:"queue-title"},v={class:"queue-icons"},k=["src"],y={key:1,src:l,class:"person-img"},x={key:0,class:"queue-info-text"},T={class:"queue-position"},L={class:"highlight-number"},E={key:1,class:"info-container"},C={class:"waiting-info"},f={class:"date-time"},q={class:"waiting-time-row"},w={class:"clock-text"},I={class:"distance-info"},S={class:"distance-value"},$={key:2,class:"called-info"},b={class:"go-to-room"},_={class:"highlight-text"},P={class:"date-time-called"},X={class:"bottom-nav"};function W(e,t,l,W,Q,R){return(0,a.uX)(),(0,a.CE)("div",{class:(0,i.C4)(["queue-progress-container",{"called-background":"called"===Q.status}])},[(0,a.Lk)("div",g,[(0,a.Lk)("div",p,[(0,a.Lk)("img",{src:s(290)(`./${R.getProgressImage()}`),alt:"进度条",class:"progress-img"},null,8,d)])]),(0,a.Lk)("div",{class:"back-button",onClick:t[0]||(t[0]=(...e)=>R.goBack&&R.goBack(...e))},t[3]||(t[3]=[(0,a.Lk)("img",{src:o,alt:"返回",class:"back-img"},null,-1)])),(0,a.Lk)("div",h,"排队进度 "+(0,i.v_)(Q.examType),1),(0,a.Lk)("div",v,[((0,a.uX)(),(0,a.CE)(a.FK,null,(0,a.pI)(7,((e,t)=>(0,a.Lk)("div",{key:t,class:"person-icon"},["内科检查"===Q.examType&&2===t&&"waiting"===Q.status||"心电图"===Q.examType&&4===t&&"waiting"===Q.status||("内科检查"===Q.examType||"心电图"===Q.examType)&&0===t&&"called"===Q.status?((0,a.uX)(),(0,a.CE)("img",{key:0,src:s(290)("./"+("waiting"===Q.status?"person-red.png":"person-green.png")),class:"person-img"},null,8,k)):((0,a.uX)(),(0,a.CE)("img",y))]))),64))]),"waiting"===Q.status?((0,a.uX)(),(0,a.CE)("div",x,[(0,a.Lk)("div",T,[t[4]||(t[4]=(0,a.eW)("前方仅剩")),(0,a.Lk)("span",L,(0,i.v_)("内科检查"===Q.examType?"2":"6"),1),t[5]||(t[5]=(0,a.eW)("位等待"))]),t[6]||(t[6]=(0,a.Lk)("div",{class:"queue-notice"},"请准备好，即将轮到您",-1))])):(0,a.Q3)("",!0),"waiting"===Q.status?((0,a.uX)(),(0,a.CE)("div",E,[(0,a.Lk)("div",C,[(0,a.Lk)("div",f,"3月19日 星期三 "+(0,i.v_)((Q.examType,"10:12:22")),1),(0,a.Lk)("div",q,[t[7]||(t[7]=(0,a.Lk)("img",{src:c,class:"info-icon"},null,-1)),(0,a.Lk)("div",w,"预计等待时间为"+(0,i.v_)("内科检查"===Q.examType?"14":"34")+"分钟",1)]),t[9]||(t[9]=(0,a.Lk)("div",{class:"cancel-queue"},[(0,a.Lk)("img",{src:r,class:"info-icon1"}),(0,a.Lk)("div",{class:"cancel-text"},[(0,a.eW)("若您行程有变，可"),(0,a.Lk)("span",{class:"highlight-cancel"},"取消本次排队")])],-1)),(0,a.Lk)("div",I,[t[8]||(t[8]=(0,a.eW)(" 您目前与我们相距：")),(0,a.Lk)("span",S,(0,i.v_)("内科检查"===Q.examType?"672":"864")+"m",1)])])])):"called"===Q.status?((0,a.uX)(),(0,a.CE)("div",$,[t[12]||(t[12]=(0,a.Lk)("div",{class:"already-called"},"已轮到您",-1)),(0,a.Lk)("div",b,[t[10]||(t[10]=(0,a.eW)("前往")),(0,a.Lk)("span",_,(0,i.v_)("内科检查"===Q.examType?"10":"3"),1),t[11]||(t[11]=(0,a.eW)("诊室检查！"))]),(0,a.Lk)("div",P,"3月19日 星期三 "+(0,i.v_)("内科检查"===Q.examType?"10:26:22":"10:46:22"),1),(0,a.Lk)("div",{class:"confirm-button",onClick:t[1]||(t[1]=(...e)=>R.goToMedicalReminder&&R.goToMedicalReminder(...e))}," 确定 ")])):(0,a.Q3)("",!0),(0,a.Lk)("div",X,[(0,a.Lk)("div",{class:"nav-item",onClick:t[2]||(t[2]=(...e)=>R.goToHomePage&&R.goToHomePage(...e))},t[13]||(t[13]=[(0,a.Lk)("div",{class:"nav-icon"},[(0,a.Lk)("img",{src:m,alt:"首页",class:"nav-icon-img"})],-1),(0,a.Lk)("div",{class:"nav-text"},"首页",-1)])),t[14]||(t[14]=(0,a.Lk)("div",{class:"nav-item"},[(0,a.Lk)("div",{class:"nav-icon"},[(0,a.Lk)("img",{src:n,alt:"我的",class:"nav-icon-img"})]),(0,a.Lk)("div",{class:"nav-text1"},"我的")],-1))]),t[15]||(t[15]=(0,a.Lk)("div",{class:"voice-button"},[(0,a.Lk)("img",{src:u,alt:"语音",class:"voice-icon-img"})],-1))],2)}s(4114);var Q={name:"QueueProgress",data(){return{examType:"",status:"waiting",currentTime:"",previouslyCompletedExam:""}},created(){this.examType=this.$route.query.examType||localStorage.getItem("currentExamType")||"",this.status=this.$route.query.status||"waiting",this.previouslyCompletedExam=localStorage.getItem("previouslyCompletedExam")||"",this.updateCurrentTime(),"waiting"===this.status?setTimeout((()=>{this.status="called","内科检查"===this.examType?this.currentTime="10:26:22":this.currentTime="10:46:22"}),1e3):"内科检查"===this.examType?this.currentTime="10:26:22":this.currentTime="10:46:22"},methods:{getProgressImage(){const e=this.previouslyCompletedExam&&this.previouslyCompletedExam!==this.examType;return e?"waiting"===this.status?"load11.png":"load12.png":"waiting"===this.status?"load9.png":"load10.png"},goBack(){this.$router.go(-1)},goToHomePage(){this.$router.push("/home")},goToMedicalReminder(){localStorage.setItem("paymentStatus","completed");this.examType;const e=localStorage.getItem("completedExam")||"";localStorage.setItem("completedExam",this.examType);const t=this.$route.query.completedExam||"";console.log("当前检查:",this.examType),console.log("之前完成的检查:",e),console.log("路由参数中的完成检查:",t);const s=e&&e!==this.examType||t&&t!==this.examType;console.log("另一个检查是否已完成:",s),s?(localStorage.setItem("allExamsCompleted","true"),this.$router.push({path:"/home",query:{showReportPage:"true"}})):(localStorage.setItem("previouslyCompletedExam",this.examType),this.$router.push({path:"/medical-reminder",query:{fromPaymentSuccess:"true",completedExam:this.examType}}))},updateCurrentTime(){"waiting"===this.status?this.currentTime="10:12:22":"内科检查"===this.examType?this.currentTime="10:26:22":this.currentTime="10:46:22"},confirmQueue(){const e=this.$route.query.examType||localStorage.getItem("currentExamType");localStorage.setItem("completedExam",e);const t=localStorage.getItem("completedExam"),s=this.$route.query.completedExam;"内科检查"===t&&"心电图"===s||"心电图"===t&&"内科检查"===s||"true"===this.$route.query.allExamsCompleted?(localStorage.setItem("allExamsCompleted","true"),this.$router.push("/home")):this.$router.push({path:"/medical-reminder",query:{fromPaymentSuccess:"true",completedExam:t}})}}},R=s(6262);const B=(0,R.A)(Q,[["render",W],["__scopeId","data-v-7b5f6856"]]);var H=B}}]);
//# sourceMappingURL=908.5af755a5.js.map